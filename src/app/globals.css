@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* C64 Colors */
  --c64-bg: #3528be;
  --c64-border: #7c70da;
  --c64-text: #7c70da;

  /* Apple II Colors */
  --apple-bg: #000000;
  --apple-text: #33ff33;

  /* MS-DOS Colors */
  --dos-bg: #000000;
  --dos-text: #cccccc;

  /* Amiga Colors */
  --amiga-bg: #0055aa;
  --amiga-text: #ffffff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  
  --color-c64-bg: var(--c64-bg);
  --color-c64-border: var(--c64-border);
  --color-c64-text: var(--c64-text);
  --color-apple-bg: var(--apple-bg);
  --color-apple-text: var(--apple-text);
  --color-dos-bg: var(--dos-bg);
  --color-dos-text: var(--dos-text);
  --color-amiga-bg: var(--amiga-bg);
  --color-amiga-text: var(--amiga-text);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  overflow-x: hidden;
  overscroll-behavior: none;
}

/* Prevent iOS zoom on focus */
@media screen and (max-width: 768px) {
  input, 
  textarea, 
  select {
    font-size: 16px !important;
  }
}

/* Custom Retro Scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: currentColor transparent;
}

*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background-color: currentColor;
  border: 3px solid transparent;
  background-clip: content-box;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: currentColor;
  opacity: 0.8;
}

*::-webkit-scrollbar-corner {
  background: transparent;
}

/* CRT Effect */
.crt::before {
  content: " ";
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
  z-index: 2;
  background-size: 100% 2px, 3px 100%;
  pointer-events: none;
}

.crt::after {
  content: " ";
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: rgba(18, 16, 16, 0.1);
  opacity: 0;
  z-index: 2;
  pointer-events: none;
  animation: flicker 0.15s infinite;
}

@keyframes flicker {
  0% { opacity: 0.02786; }
  5% { opacity: 0.03476; }
  10% { opacity: 0.02360; }
  15% { opacity: 0.04062; }
  20% { opacity: 0.01812; }
  25% { opacity: 0.03389; }
  30% { opacity: 0.02558; }
  35% { opacity: 0.02780; }
  40% { opacity: 0.02655; }
  45% { opacity: 0.03469; }
  50% { opacity: 0.04601; }
  55% { opacity: 0.01852; }
  60% { opacity: 0.03131; }
  65% { opacity: 0.01904; }
  70% { opacity: 0.01512; }
  75% { opacity: 0.03065; }
  80% { opacity: 0.01941; }
  85% { opacity: 0.03032; }
  90% { opacity: 0.03842; }
  95% { opacity: 0.02607; }
  100% { opacity: 0.01524; }
}

.scanline {
  width: 100%;
  height: 100px;
  z-index: 3;
  background: linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(255, 255, 255, 0.2) 10%, rgba(0, 0, 0, 0.1) 100%);
  opacity: 0.1;
  position: fixed;
  bottom: 100%;
  animation: scanline 10s linear infinite;
  pointer-events: none;
}

@keyframes scanline {
  0% { bottom: 100%; }
  80% { bottom: 100%; }
  100% { bottom: 0%; }
}

@keyframes loading {
  0% { width: 0; }
  100% { width: 100%; }
}

@keyframes cursor-blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

.animate-cursor {
  animation: cursor-blink 1s step-end infinite;
}

.animate-loading {
  animation: loading 2s steps(10) infinite;
}

@keyframes dialUpReveal {
  0% { clip-path: inset(0 0 100% 0); }
  100% { clip-path: inset(0 0 0 0); }
}

@keyframes dialUpLine {
  0% { top: 0; opacity: 0; }
  5% { opacity: 1; }
  95% { opacity: 1; }
  100% { top: 100%; opacity: 0; }
}

.crt {
  min-height: 100dvh;
}

.terminal-link, 
.terminal-link *,
button.terminal-link {
  transition: all 0.2s;
  padding: 0 4px;
  color: inherit;
  text-decoration: none;
  cursor: pointer !important;
}

.terminal-link:hover {
  background-color: var(--terminal-text);
  color: var(--terminal-bg) !important;
}

@media print {
  .crt::before, .crt::after, .scanline {
    display: none !important;
  }
  
  body {
    background: white !important;
    color: black !important;
  }

  main {
    background: white !important;
    padding: 0 !important;
  }

  /* Specific for Studios page to look like a window still */
  .max-w-2xl {
    box-shadow: none !important;
    border: 1px solid black !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Hide navigation elements when printing */
  .print-hidden {
    display: none !important;
  }
}
